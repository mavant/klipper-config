[gcode_macro CANCEL_PRINT]
description: Cancel the actual running print
rename_existing: CANCEL_PRINT_BASE
gcode:
  TURN_OFF_HEATERS
  G92 E0          # Reset extrusion distance
  G1 E-1 F300     # Retract filament a bit before lifting
  G92 E0          # Reset extrusion distance
  
  G1 Z+3 E-5 F3000    # Raise nozzle by a few millimeters and retract further

  G90             # Absolute coordinates
  G1 X0 Y0 Z150 F3000  # Center nozzle
  CANCEL_PRINT_BASE
